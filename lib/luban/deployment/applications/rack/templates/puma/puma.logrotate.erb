# Logrotate configuration for Puma

<%= log_path.join('puma*.log') %> {
  hourly
  maxsize 5M
  maxage 14
  rotate <%= 14 * 24 * (60 / 10) %>
  missingok
  compress
  compresscmd <%= `which gzip`.chomp %>
  dateext
  dateformat -%Y%m%d-%H%M%S
  olddir archived_logs
  sharedscripts
  postrotate
    [ ! -f <%= pid_file_path %> ] || kill -HUP $(cat <%= pid_file_path %>) 2>/dev/null || true
  endscript
}
